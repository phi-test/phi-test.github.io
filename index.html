<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>360&deg; Image</title>
    <meta name="description" content="360&deg; Image - A-Frame">
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script>
        AFRAME.registerComponent('display-image-on-click', {
            init: function () {
                // var parameters = this.parameters;
                var element = this.el;  // <a-sky>/
                // var currentVisibility = element.getAttribute('material').transparent;

                // element.addEventListener('click', function () {
                //     element.setAttribute('transparent', !currentVisibility);
                // });
                document.querySelectorAll('a-box')[0].addEventListener('click', function () {
                    var currentVisibility = element.getAttribute('material').visible;
                    console.log("batatinha visivel: ", currentVisibility);
                    // element.setAttribute('transparent', !currentVisibility);
                    element.setAttribute('visible', !currentVisibility);
                });

                // element.addEventListener('mouseleave', function () {
                //     element.setAttribute('color', currentVisibility);
                // });
            }
        });
    </script>
</head>

<body>


    <a-scene>

        <a-sky src="puydesancy.jpg" rotation="0 -130 0" display-image-on-click></a-sky>
        <a-box id="box" color="#EF2D5E" position="0 1 -4"></a-box>
        <a-camera><a-cursor>
            </a-cursor></a-camera>
    </a-scene>

</body>

</html>